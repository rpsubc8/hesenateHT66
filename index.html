<!DOCTYPE html>
<!-- Code by ackerman -->
<html lang="es">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HESENATE HT66</title>
 </head>
 <body>
  <div id="divGlobal">
   <!--<div id="divLeft" style="float: left; width: 50%">-->
   <div id="divUp">
    <table>
     <tbody>
      <tr>
       <th>CH</th>
	   <th>RX Freq(Mhz)</th>
       <th>TX Freq(Mhz)</th>
       <th>Power TX</th>
	   <th>W/N</th>
	  </tr>
      <tr>
	   <td>1</td>
	   <td><input type="number" id="textrx1" name="textrx1"></td>
       <td><input type="number" id="texttx1" name="texttx1"></td>
       <td><select id="cmbtx1"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn1"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>2</td>
	   <td><input type="number" id="textrx2" name="textrx2"></td>
       <td><input type="number" id="texttx2" name="texttx2"></td>
       <td><select id="cmbtx2"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn2"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>3</td>
	   <td><input type="number" id="textrx3" name="textrx3"></td>
       <td><input type="number" id="texttx3" name="texttx3"></td>
       <td><select id="cmbtx3"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn3"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>4</td>
	   <td><input type="number" id="textrx4" name="textrx4"></td>
       <td><input type="number" id="texttx4" name="texttx4"></td>
       <td><select id="cmbtx4"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn4"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>5</td>
	   <td><input type="number" id="textrx5" name="textrx5"></td>
       <td><input type="number" id="texttx5" name="texttx5"></td>
       <td><select id="cmbtx5"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn5"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>6</td>
	   <td><input type="number" id="textrx6" name="textrx6"></td>
       <td><input type="number" id="texttx6" name="texttx6"></td>
       <td><select id="cmbtx6"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn6"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>7</td>
	   <td><input type="number" id="textrx7" name="textrx7"></td>
       <td><input type="number" id="texttx7" name="texttx7"></td>
       <td><select id="cmbtx7"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn7"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>	
	  <tr>
	   <td>8</td>
	   <td><input type="number" id="textrx8" name="textrx8"></td>
       <td><input type="number" id="texttx8" name="texttx8"></td>
       <td><select id="cmbtx8"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn8"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>	
      <tr>
	   <td>9</td>
	   <td><input type="number" id="textrx9" name="textrx9"></td>
       <td><input type="number" id="texttx9" name="texttx9"></td>
       <td><select id="cmbtx9"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn9"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>10</td>
	   <td><input type="number" id="textrx10" name="textrx10"></td>
       <td><input type="number" id="texttx10" name="texttx10"></td>
       <td><select id="cmbtx10"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn10"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>11</td>
	   <td><input type="number" id="textrx11" name="textrx11"></td>
       <td><input type="number" id="texttx11" name="texttx11"></td>
       <td><select id="cmbtx11"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn11"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>12</td>
	   <td><input type="number" id="textrx12" name="textrx12"></td>
       <td><input type="number" id="texttx12" name="texttx12"></td>
       <td><select id="cmbtx12"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn12"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>13</td>
	   <td><input type="number" id="textrx13" name="textrx13"></td>
       <td><input type="number" id="texttx13" name="texttx13"></td>
       <td><select id="cmbtx13"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn13"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>14</td>
	   <td><input type="number" id="textrx14" name="textrx14"></td>
       <td><input type="number" id="texttx14" name="texttx14"></td>
       <td><select id="cmbtx14"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn14"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>15</td>
	   <td><input type="number" id="textrx15" name="textrx15"></td>
       <td><input type="number" id="texttx15" name="texttx15"></td>
       <td><select id="cmbtx15"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn15"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>
      <tr>
	   <td>16</td>
	   <td><input type="number" id="textrx16" name="textrx16"></td>
       <td><input type="number" id="texttx16" name="texttx16"></td>
       <td><select id="cmbtx16"><option selected value="opcion1">LOW</option><option value="opcion2">HIGH</option></select></td>
       <td><select id="cmbwn16"><option selected value="opcion1">NARROW</option><option value="opcion2">WIDE</option></select></td>
      </tr>		
     </tbody>
    </table>
   </div>
  
   <!--<div id="divRight" style="float: right; width: 50%">-->
   <div id="divDown">
    <table>
     <tbody>
	  <tr><th></th><td></td></tr> 
	  <tr><th></th><td></td></tr> 
	  <tr>
	   <th>BANDS</th>
	   <td></td>
	  </tr>
      <tr>
	   <td>
        <button type='button' id="btnPMR" onclick="ExecPMR()">PMR 446</button>		
	   </td>
	  </tr>
	  <tr>
	   <td>	    
	    <button type='button' id="btnLPD0116" onclick="cmbLPDClick('opcion1')">LPD(01-16)</button>
		<button type='button' id="btnLPD1732" onclick="cmbLPDClick('opcion2')">LPD(17-32)</button>
		<button type='button' id="btnLPD3348" onclick="cmbLPDClick('opcion3')">LPD(33-48)</button>
		<button type='button' id="btnLPD4964" onclick="cmbLPDClick('opcion4')">LPD(49-64)</button>
		<button type='button' id="btnLPD5469" onclick="cmbLPDClick('opcion5')">LPD(54-69)</button>
		<label name="lblWarnLPD" id="lblWarnLPD" style="color:red">WARN TX(10 mw)!!!</label>
	    <!--<select id="cmbLPD" onchange="cmbLPDClick(value)">-->
	    <!-- <option selected value="opcion1" onclick="cmbLPDClick(value)">LPD(01-16)</option>-->
	    <!-- <option value="opcion2" onclick="cmbLPDClick(value)">LPD(17-32)</option>-->
	    <!-- <option value="opcion3" onclick="cmbLPDClick(value)">LPD(33-48)</option>-->
	    <!-- <option value="opcion4" onclick="cmbLPDClick(value)">LPD(49-64)</option>-->
	    <!-- <option value="opcion5" onclick="cmbLPDClick(value)">LPD(54-69)</option>-->
	    <!--</select>-->
	   </td>
	  </tr>	  	  
	  <tr>
       <td>
	    <button type='button' id="btnCB0116" onclick="cmbCBClick('opcion1')">CB(01-16)</button>
		<button type='button' id="btnCB01732" onclick="cmbCBClick('opcion2')">CB(17-32)</button>
		<button type='button' id="btnCB2540" onclick="cmbCBClick('opcion3')">CB(25-40)</button>

        <input type="radio" name="groupBand" value="opcionA" id="radioOption1"><label name="lblA" id="lblA">A</label>
        <input type="radio" name="groupBand" value="opcionB" id="radioOption2"><label name="lblB" id="lblB">B</label>
        <input type="radio" name="groupBand" value="opcionC" id="radioOption3"><label name="lblC" id="lblC">C</label>
		<input type="radio" name="groupBand" value="opcionD" id="radioOption4" checked><label name="lblD" id="lblD">D</label>
		<input type="radio" name="groupBand" value="opcionE" id="radioOption5"><label name="lblE" id="lblE">E</label>
        <input type="radio" name="groupBand" value="opcionF" id="radioOption6"><label name="lblF" id="lblF">F</label>
        <label name="lblWarnCB" id="lblWarnCB" style="color:red">WARN TX BAND F!!!</label>
	    <!--<select id="cmbCB" onchange="cmbCBClick(value)">-->
	    <!-- <option selected value="opcion1" onclick="cmbCBClick(value)">CB(01-16)</option>-->
	    <!-- <option value="opcion2" onclick="cmbCBClick(value)">CB(17-32)</option>-->
	    <!-- <option value="opcion3" onclick="cmbCBClick(value)">CB(25-40)</option>-->
	    <!--</select>-->
       </td>
	  </tr>
	  <tr>
	   <td>	    
        <button type='button' id="btnFM" onclick="ExecFM()">FM(commercial)</button>
		<label name="lblWarnFM" id="lblWarnFM" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>
	  <tr>
	   <td>	    
	    <button type='button' id="btnPRS0116" onclick="cmbPRSClick('opcion1')">PRS 409(01-16)</button>
		<button type='button' id="btnPRS1720" onclick="cmbPRSClick('opcion2')">PRS 409(05-20)</button>
		<label name="lblWarnPRS" id="lblWarnPRS" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>
	  <tr>
	   <td>	    
	    <button type='button' id="btnFRS220116" onclick="cmbFRS22Click('opcion1')">FRS22 (01-16)</button>
		<button type='button' id="btnPRS221722" onclick="cmbFRS22Click('opcion2')">FRS22 (07-22)</button>		
		<label name="lblWarnFRS" id="lblWarnFRS" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>
	  <tr>
	   <td>	    
	    <button type='button' id="btnFreenet" onclick="ExecFreenet()">Freenet 149</button>		
		<label name="lblWarnFreenet" id="lblWarnFreenet" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>
	  <tr>
	   <td>
	    <button type='button' id="btnHunterAragon" onclick="ExecHunter('Aragon')">Aragon</button>
	    <button type='button' id="btnHunterAsturias" onclick="ExecHunter('Asturias')">Asturias</button>
		<button type='button' id="btnHunterCantabria" onclick="ExecHunter('Cantabria')">Cantabria</button>		
		<button type='button' id="btnHunterCastillaLeon" onclick="ExecHunter('CastillaLeon')">Castilla Leon</button>
		<button type='button' id="btnHunterCatalan" onclick="ExecHunter('Catalan')">Catalu&ntilde;a</button>
		HUNTER.
		<label name="lblWarnHunter" id="lblWarnHunter" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>
	  <tr>
	   <td>  
	    <button type='button' id="btnMarine0116" onclick="ExecMarine('opcion1','SPAIN')">01-16</button>
		<button type='button' id="btnMarine1762" onclick="ExecMarine('opcion2','SPAIN')">17-63</button>
		<button type='button' id="btnMarine6481" onclick="ExecMarine('opcion3','SPAIN')">64-81</button>
		<button type='button' id="btnMarine7188" onclick="ExecMarine('opcion4','SPAIN')">71-88</button>
		MARINE SPAIN.
		<label name="lblWarnMarineSpain" id="lblWarnMarineSpain" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>
	  <tr>
	   <td>  
	    <button type='button' id="btnMarine0116" onclick="ExecMarine('opcion1','USA')">01-16</button>
		<button type='button' id="btnMarine1762" onclick="ExecMarine('opcion2','USA')">17-63</button>
		<button type='button' id="btnMarine6481" onclick="ExecMarine('opcion3','USA')">64-81</button>
		<button type='button' id="btnMarine7188" onclick="ExecMarine('opcion4','USA')">71-88</button>
		MARINE USA.
		<label name="lblWarnMarineUSA" id="lblWarnMarineUSA" style="color:red">WARN TX!!!</label>
	   </td>
	  </tr>		  
	  <tr><th></th><td></td></tr> 
	  <tr><th></th><td></td></tr> 
	  <tr>
	   <th>OUTPUT</th>
	   <td></td>
	  </tr>	  
	  <tr>	 
	   <td>
        <textarea id="txtareaOut" name="txtareaOut" rows="20" cols="54" readonly></textarea>
	   </td>	   
	  </tr>
	  <tr><th></th><td></td></tr> 
	  <tr><th></th><td></td></tr> 
	  <tr>
	   <th>ACTIONS</th>
	   <td></td>
	  </tr>
	  <tr>
	   <td>
        <button type='button' id="btnClear" onclick="ExecClear()">Clear</button>
	    <button type='button' id="btnSave" onclick="ExecSaveDat()">Save</button> 
	   </td>
	  </tr>
	  <tr>
	   <td>
        <button type='button' id="btnLoad" onclick="ExecLoadDat()">Load</button>
	    <input type='file' id='fileinput'>
	   </td>
	  </tr>
	  <tr>
	   <td>
	    <button type='button' id="btnStart" onclick="ExecStart()">Start</button>
	   </td>
	  </tr>
	 </tbody> 	
 	 <!--<button type='button' id="btnReset" onclick="onClick='window.location.reload()'">Reset</button><br>-->
   </div> 
 
  </div>
  
  <script>
   var cadHead="[M31_Analog_Redio]";
   var cadTail01="57 00 D0 0D 18 01 06 00 00 F8 FF 00 FF FF FF E8 0E ";
   var cadTail02="57 00 DD 0D FF FF FF FF FF FF FF FF FF FF FF FF FF ";
   var cadCh = ["", "", "", "", "", "", "", "", "", "", "", "", "", "", "", ""];
   var cadPreCh = ["00","0D","1A","27","34","41","4E","5B","68","75","82","8F","9C","A9","B6","C3"]; 
   var cadOut="";
   var num=0;
   var cadHex="";
   var cadNameObj="";
   var cadByte= ["","","",""];
   var cadTxPower="";
   var cadwn="";
   var freqPMR=["44600625","44601875","44603125","44604375","44605625","44606875","44608125","44609375","44610625","44611875","44613125","44614375","44615625","44616875","44618125","44619375"];   
   var freqPRS0116=["40975000","40976250","40977500","40978750","40980000","40981250","40982500","40983750","40985000","40986250","40987500","40988750","40990000","40991250","40992500","40993750"];
   var freqPRS0520=["40980000","40981250","40982500","40983750","40985000","40986250","40987500","40988750","40990000","40991250","40992500","40993750","40995000","40996250","40997500","40998750"];
   var freqFRS220116=["46256250","46258750","46261250","46263750","46266250","46268750","46271250","46756250","46758750","46761250","46763750","46766250","46768750","46771250","46255000","46257500"];
   var freqFRS220722=["46271250","46756250","46758750","46761250","46763750","46766250","46768750","46771250","46255000","46257500","46260000","46262500","46265000","46267500","46270000","46272500"];
   var freqLPD0116=["43307500","43310000","43312500","43315000","43317500","43320000","43322500","43325000","43327500","43330000","43332500","43335000","43337500","43340000","43342500","43345000"];
   var freqLPD1732=["43347500","43350000","43352500","43355000","43357500","43360000","43362500","43365000","43367500","43370000","43372500","43375000","43377500","43380000","43382500","43385000"];
   var freqLPD3348=["43387500","43390000","43392500","43395000","43397500","43400000","43402500","43405000","43407500","43410000","43412500","43415000","43417500","43420000","43422500","43425000"];
   var freqLPD4964=["43427500","43430000","43432500","43435000","43437500","43440000","43442500","43445000","43447500","43450000","43452500","43455000","43457500","43460000","43462500","43465000"];
   var freqLPD5469=["43440000","43442500","43445000","43447500","43450000","43452500","43455000","43457500","43460000","43462500","43465000","43467500","43470000","43472500","43475000","43477500"];
   //CB Band A
   var freqCB0116A=["2561500","2562500","2563500","2565500","2566500","2567500","2568500","2570500","2571500","2572500","2573500","2575500","2576500","2577500","2578500","2580500"]; 
   var freqCB1732A=["2581500","2582500","2583500","2585500","2586500","2587500","2590500","2588500","2589500","2591500","2592500","2593500","2594500","2595500","2596500","2597500"];
   var freqCB2540A=["2589500","2591500","2592500","2593500","2594500","2595500","2596500","2597500","2598500","2599500","2600500","2601500","2602500","2603500","2604500","2605500"];
   //CB Band B
   var freqCB0116B=["2606500","2607500","2608500","2610500","2611500","2612500","2613500","2615500","2616500","2617500","2618500","2620500","2621500","2622500","2623500","2625500"];  
   var freqCB1732B=["2626500","2627500","2628500","2630500","2631500","2632500","2635500","2633500","2634500","2636500","2637500","2638500","2639500","2640500","2641500","2642500"];
   var freqCB2540B=["2634500","2636500","2637500","2638500","2639500","2640500","2641500","2642500","2643500","2644500","2645500","2646500","2647500","2648500","2649500","2650500"];
   //CB Band C
   var freqCB0116C=["2651500","2652500","2653500","2655500","2656500","2657500","2658500","2660500","2661500","2662500","2663500","2665500","2666500","2667500","2668500","2670500"];
   var freqCB1732C=["2671500","2672500","2673500","2675500","2676500","2677500","2680500","2678500","2679500","2681500","2682500","2683500","2684500","2685500","2686500","2687500"];
   var freqCB2540C=["2679500","2681500","2682500","2683500","2684500","2685500","2686500","2687500","2688500","2689500","2690500","2691500","2692500","2693500","2694500","2695500"];
   //CB Band D
   var freqCB0116D=["2696500","2697500","2698500","2700500","2701500","2702500","2703500","2705500","2706500","2707500","2708500","2710500","2711500","2712500","2713500","2715500"];
   var freqCB1732D=["2716500","2717500","2718500","2720500","2721500","2722500","2725500","2723500","2724500","2726500","2727500","2728500","2729500","2730500","2731500","2732500"];
   var freqCB2540D=["2724500","2726500","2727500","2728500","2729500","2730500","2731500","2732500","2733500","2734500","2735500","2736500","2737500","2738500","2739500","2740500"];
   //CB Band E
   var freqCB0116E=["2741500","2742500","2743500","2745500","2746500","2747500","2748500","2750500","2751500","2752500","2753500","2755500","2756500","2757500","2758500","2760500"];
   var freqCB1732E=["2761500","2762500","2763500","2765500","2766500","2767500","2770500","2768500","2769500","2771500","2772500","2773500","2774500","2775500","2776500","2777500"];
   var freqCB2540E=["2769500","2771500","2772500","2773500","2774500","2775500","2776500","2777500","2778500","2779500","2780500","2781500","2782500","2783500","2784500","2785500"];
   //CB Band F
   var freqCB0116F=["2786500","2787500","2788500","2790500","2791500","2792500","2793500","2795500","2796500","2797500","2798500","2800500","2801500","2802500","2803500","2805500"];
   var freqCB1732F=["2806500","2807500","2808500","2810500","2811500","2812500","2815500","2813500","2814500","2816500","2817500","2818500","2819500","2820500","2821500","2822500"];
   var freqCB2540F=["2814500","2816500","2817500","2818500","2819500","2820500","2821500","2822500","2823500","2824500","2825500","2826500","2827500","2828500","2829500","2830500"];
     
   var freqFM=["9590000","9700000","9710000","9715000","9720000","9725000","9730000","9740000","9795000","9810000","9840000","10180000","10300000","10310000","10315000","10320000"];
   var freqFreenet=["14902500","14903750","14905000","14908750","14910000","14911250","14902500","14903750","14905000","14908750","14910000","14911250","14902500","14903750","14905000","14908750"]; 
   
   //Hunter freqs
   var freqHuntAragon=["44701250","44701250","44701250","44701250","44701250","44705000","44705000","44705000","44705000","44705000","44718750","44718750","44718750","44718750","44718750","44722500"];
   var freqHuntAsturias=["15021250","15065000","15068750","15077500","15091250","15092500","15093750","15116250","15118750","15127500","15128750","15141250","15142500","15146250","15157500","15158750"];
   var freqHuntCantabria=["15021250","15065000","15118250","15118750","15141250","15157500","15158750","15160000","15190000","15191250","15021250","15065000","15118250","15118750","15141250","15157500"];   
   var freqHuntCastillaLeon=["15118750","15141250","15157500","15158750","15190000","15118750","15141250","15157500","15158750","15190000","15118750","15141250","15157500","15158750","15190000","15118750"];
   var freqHuntCatalan=["44701250","44701250","44701250","44701250","44701250","44705000","44705000","44705000","44705000","44705000","44711250","44711250","44711250","44711250","44711250","44715000"];
  
   //Marine freqs Spain
   var freqMarineTX0116_spain=["15605000","15610000","15615000","15620000","15625000","15630000","15635000","15640000","15645000","15650000","15655000","15660000","15665000","15670000","15675000","15680000"];
   var freqMarineRX0116_spain=["16065000","16070000","15675000","16080000","16085000","15630000","16095000","15640000","15645000","15650000","15655000","15660000","15665000","15670000","15675000","15680000"];
   var freqMarineTX1763_spain=["15685000","15690000","15695000","15700000","15705000","15710000","15715000","15720000","15725000","15730000","15735000","15740000","15602500","15607500","15612500","15617500"];
   var freqMarineRX1763_spain=["15685000","16150000","16155000","16160000","16165000","16170000","16175000","16180000","16185000","16190000","16195000","16200000","16062500","15667500","16072500","16077500"];
   var freqMarineTX6481_spain=["15622500","15627500","15632500","15637500","15642500","15647500","15652500","15657500","15662500","15667500","15672500","15687500","15692500","15697500","15702500","15707500"];
   var freqMarineRX6481_spain=["16082500","16087500","16092500","15637500","15642500","15647500","15652500","15657500","15662500","15667500","15672500","15687500","16152500","16157500","16162500","16167500"];
   var freqMarineTX7188_spain=["15657500","15662500","15667500","15672500","15687500","15692500","15697500","15702500","15707500","15717500","15717500","15722500","15727500","15732500","15737500","15742500"];
   var freqMarineRX7188_spain=["15657500","15662500","15667500","15672500","15687500","16152500","16157500","16162500","16167500","16172500","16177500","16122500","16187500","16192500","16197500","16202500"];
   //Marine freqs USA
   var freqMarineTX0116_usa=["15605000","15610000","15615000","15620000","15625000","15630000","15635000","15640000","15645000","15650000","15655000","15660000","15665000","15670000","15675000","15680000"];
   var freqMarineRX0116_usa=["15605000","15610000","15615000","15620000","15625000","15630000","15635000","15640000","15645000","15650000","15655000","15660000","15665000","15670000","15675000","15680000"];
   var freqMarineTX1763_usa=["15685000","15690000","15695000","15700000","15705000","15710000","15715000","15720000","15725000","15730000","15735000","15740000","15602500","15607500","15612500","15617500"];
   var freqMarineRX1763_usa=["15685000","15690000","15695000","15700000","15705000","15710000","15715000","16180000","16185000","16190000","16195000","16200000","15602500","15607500","15612500","15617500"];
   var freqMarineTX6481_usa=["15622500","15627500","15632500","15637500","15642500","15647500","15652500","15657500","15662500","15667500","15672500","15687500","15692500","15697500","15702500","15707500"];
   var freqMarineRX6481_usa=["15622500","15627500","15632500","15637500","15642500","15647500","15652500","15657500","15662500","15667500","15672500","15687500","15692500","15697500","15702500","15707500"];
   var freqMarineTX7188_usa=["15657500","15662500","15667500","15672500","15687500","15692500","15697500","15702500","15707500","15712500","15717500","15722500","15727500","15732500","15737500","15742500"];
   var freqMarineRX7188_usa=["15742500","15737500","15732500","15727500","15722500","15717500","15712500","15707500","15702500","15697500","15692500","15687500","15672500","15667500","15662500","15657500"];
					
   function ExecStart()
   {
    try 
	{
     cadOut="";
	 cadOut += cadHead +"\r\n";
	    
	 for (var i=0;i<16;i++)
	 {
      cadOut += "57 00 " + cadPreCh[i] + " 0D " +cadCh[i] 
	 
	  //Freq RX
	  cadNameObj= "textrx"+(i+1).toString();
	  num= Number(document.getElementById(cadNameObj).value);
	  cadHex= num.toString(16).toUpperCase().padStart(8, '0');
	  //02a88d31
	  cadByte[0]= cadHex.substring(0,2);
	  cadByte[1]= cadHex.substring(2,4);
	  cadByte[2]= cadHex.substring(4,6);
	  cadByte[3]= cadHex.substring(6,8);
	  cadOut += cadByte[3]+" "+ cadByte[2]+ " "+ cadByte[1] +" "+cadByte[0]+" ";
	 
	  //Freq TX
	  cadNameObj= "texttx"+(i+1).toString();
	  num= Number(document.getElementById(cadNameObj).value);
	  cadHex= num.toString(16).toUpperCase().padStart(8, '0');
	  //02a88d31
	  cadByte[0]= cadHex.substring(0,2);
	  cadByte[1]= cadHex.substring(2,4);
	  cadByte[2]= cadHex.substring(4,6);
	  cadByte[3]= cadHex.substring(6,8);
	  cadOut += cadByte[3]+" "+ cadByte[2]+ " "+ cadByte[1] +" "+cadByte[0]+" ";
		 		 
 	  cadOut += "FF FF FF FF F";

      //LOW HIGH
	  cadNameObj= "cmbtx"+(i+1).toString();
	  cadTxPower= document.getElementById(cadNameObj).value;
	 
	  //NARROW WIDE
	  cadNameObj= "cmbwn"+(i+1).toString();
	  cadwn= document.getElementById(cadNameObj).value;
	 	 
	  if ((cadTxPower=="opcion1")&&(cadwn=="opcion1")){ cadOut += "7"; } //LOW NARROW
	  else
	  {//HIGH NARROW
	   if ((cadTxPower=="opcion2")&&(cadwn=="opcion1")){ cadOut += "F"; }
	   else
	   {//HIGH WIDE
        if ((cadTxPower=="opcion2")&&(cadwn=="opcion2")){ cadOut += "B"; }
	    else
	    {//LOW WIDE
	     if ((cadTxPower=="opcion1")&&(cadwn=="opcion2")){ cadOut += "3"; }
	    }
	   }
	  }
	 
	  cadOut += " \r\n";
	 }
	
	 cadOut += cadTail01 + "\r\n";
	 cadOut += cadTail02 + "\r\n";
	
     document.getElementById("txtareaOut").innerHTML = cadOut;
	}
	catch (error) 
	{
     console.error(error);
    }
   }
   
   //Clear
   function ExecClear()
   {    
    try
	{
     cadOut="";
	
	 for (var i=0;i<16;i++)
	 {
	  cadNameObj= "textrx"+(i+1).toString();
      document.getElementById(cadNameObj).value  = ""; //Clear rx freq
	 
	  cadNameObj= "texttx"+(i+1).toString();
	  document.getElementById(cadNameObj).value  = ""; //Clear tx freq
	 
	  cadNameObj= "cmbtx"+(i+1).toString();
	  document.getElementById(cadNameObj).value  = "opcion1"; //low
	 
	  cadNameObj= "cmbwn"+(i+1).toString();
	  document.getElementById(cadNameObj).value  = "opcion1"; //narrow
	 }
     
	
	 //Clear out
     document.getElementById("txtareaOut").innerHTML = "";
	}
    catch (error)
	{
     console.error(error);
	}
   }
   
   
   //Set freq PMR 446
   function ExecPMR()
   {    
    try
	{
     ExecClear();
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = freqPMR[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = freqPMR[i]; //set tx freq	 
	 }
	
	 ExecStart();
	}
    catch (error)
    {
     console.error(error);
    }	
   }
   
   //Generic PRS 409 China continental, Hong Kong y Macao 409.750-409.9875 Mhz
   function ExecPRS(opcion)
   {
    var auxFreqPRS;
   
    try
	{
     ExecClear();
	 
	 switch (opcion)
	 {
	  case "opcion1": auxFreqPRS= freqPRS0116; break;
	  case "opcion2": auxFreqPRS= freqPRS0520; break;
	  default: auxFreqPRS= freqPRS0116; break;
	 }		
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqPRS[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqPRS[i]; //set tx freq	 
	 }
	
	 ExecStart();   
	}
    catch (error)
    {
     console.error(error);
    }
   }
   
   
   //Generic Family Radio Service 462-467 MHz
   function ExecFRS22(opcion)
   {
    var auxFreqFRS22;
   
    try
	{
     ExecClear();
	 
	 switch (opcion)
	 {
	  case "opcion1": auxFreqFRS22= freqFRS220116; break;
	  case "opcion2": auxFreqFRS22= freqFRS220722; break;
	  default: auxFreqFRS22= freqFRS220116; break;
	 }		
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqFRS22[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqFRS22[i]; //set tx freq	 
	 }
	
	 ExecStart();   
	}
    catch (error)
    {
     console.error(error);
    }   
   }
   
   //Generic Band Marine
   function ExecMarine(opcion, country)
   {
    var auxFreqMarineTX;
	var auxFreqMarineRX;
   
    try
	{
     ExecClear();
	 
	 switch (opcion)
	 {
	  case "opcion1": 
	   auxFreqMarineTX= (country==="SPAIN")? freqMarineTX0116_spain : freqMarineTX0116_usa; 
	   auxFreqMarineRX= (country==="SPAIN")? freqMarineRX0116_spain : freqMarineRX0116_usa;
	   break;
	  case "opcion2":
	   auxFreqMarineTX= (country==="SPAIN")? freqMarineTX1763_spain : freqMarineTX1763_usa;
	   auxFreqMarineRX= (country==="SPAIN")? freqMarineRX1763_spain : freqMarineRX1763_usa;
	   break;
	  case "opcion3":
	   auxFreqMarineTX= (country==="SPAIN")? freqMarineTX6481_spain : freqMarineTX6481_usa;
	   auxFreqMarineRX= (country==="SPAIN")? freqMarineRX6481_spain : freqMarineRX6481_usa;  
	   break;
	  case "opcion4":
	   auxFreqMarineTX= (country==="SPAIN")? freqMarineTX7188_spain : freqMarineTX7188_usa;
	   auxFreqMarineRX= (country==="SPAIN")? freqMarineRX7188_spain : freqMarineRX7188_usa; 
	   break;	   	   
	  default:
	   auxFreqMarineTX= (country==="SPAIN")? freqMarineTX0116_spain : freqMarineTX0116_usa;
	   auxFreqMarineRX= (country==="SPAIN")? freqMarineRX0116_spain : freqMarineRX0116_usa;
	   break;
	 }		
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqMarineRX[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqMarineTX[i]; //set tx freq	 
	 }
	
	 ExecStart();   
	}
    catch (error)
    {
     console.error(error);
    }      
   }

   
   //Generic LPD channel 01-16
   function ExecLPD(opcion)
   {
    var auxFreqLPD;
   
    try
	{
     ExecClear();
	 
	 switch (opcion)
	 {
	  case "opcion1": auxFreqLPD= freqLPD0116; break;
	  case "opcion2": auxFreqLPD= freqLPD1732; break;
	  case "opcion3": auxFreqLPD= freqLPD3348; break;
	  case "opcion4": auxFreqLPD= freqLPD4964; break;
	  case "opcion5": auxFreqLPD= freqLPD5469; break;
	  default: auxFreqLPD= freqLPD0116; break;
	 }		
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqLPD[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = auxFreqLPD[i]; //set tx freq	 
	 }
	
	 ExecStart();   
	}
    catch (error)
    {
     console.error(error);
    }	
   }
   
   
   //Generic CB 11m 27 mhz channel 01-16
   function ExecCB(opcion, band)
   {
    var auxFreqCB;
	
	//alert(opcion+ " "+ band);
    try
    {
     ExecClear();
	
	 switch (opcion)
	 {
	  case "opcion1": 
	   switch (band)
	   {
	    case "A": auxFreqCB= freqCB0116A; break;
		case "B": auxFreqCB= freqCB0116B; break;
		case "C": auxFreqCB= freqCB0116C; break;
		case "D": auxFreqCB= freqCB0116D; break;
		case "E": auxFreqCB= freqCB0116E; break;
		case "F": auxFreqCB= freqCB0116F; break;
		default: auxFreqCB= freqCB0116D; break;
	   }
	   break;
	  case "opcion2": 
	   switch (band)
	   {
	    case "A": auxFreqCB= freqCB1732A; break;
		case "B": auxFreqCB= freqCB1732B; break;
		case "C": auxFreqCB= freqCB1732C; break;
		case "D": auxFreqCB= freqCB1732D; break;
		case "E": auxFreqCB= freqCB1732E; break;
		case "F": auxFreqCB= freqCB1732F; break;
	    default: auxFreqCB= freqCB1732D; break;
	   }
	   break;
	  case "opcion3": 
	   switch (band)
	   {
	    case "A": auxFreqCB= freqCB2540A; break;
		case "B": auxFreqCB= freqCB2540B; break;
		case "C": auxFreqCB= freqCB2540C; break;
	    case "D": auxFreqCB= freqCB2540D; break;
		case "E": auxFreqCB= freqCB2540E; break;
		case "F": auxFreqCB= freqCB2540F; break;
	    default: auxFreqCB= freqCB2540D; break;
	   }	   
	   break;
	  default: auxFreqCB= freqCB0116D; break;
	 }		
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = auxFreqCB[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = auxFreqCB[i]; //set tx freq
	 }
	
	 ExecStart();
	}
    catch (error)
    {
     console.error(error);
    }	
   }

   
   //FM commercial
   function ExecFM()
   {
    try
    {
     ExecClear();
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = freqFM[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = freqFM[i]; //set tx freq
	 	 
	  cadNameObj= "cmbwn"+(i+1).toString(); //WIDE
	  document.getElementById(cadNameObj).value = "opcion2";
	 }
	
	 ExecStart();
	}
    catch (error)
    {
     console.error(error);
    }	
   }    


   //Set freq Freenet 149 Mhz
   function ExecFreenet()
   {    
    try
	{
     ExecClear();
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = freqFreenet[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = freqFreenet[i]; //set tx freq
	  
	  if ((i>=6) && (i<12))
	  {
	   cadNameObj= "cmbtx"+(i+1).toString(); //HIGH
	   document.getElementById(cadNameObj).value = "opcion2";
	  }
	 }	 	     
	
	 ExecStart();
	}
    catch (error)
    {
     console.error(error);
    }	
   }
   
   
   //Hunter
   function ExecHunter(comunidad)
   {
    var auxFreqHunt;
	
    try
    {
     ExecClear();
	
	 switch (comunidad)
	 {
	  case "Aragon": auxFreqHunt= freqHuntAragon; break;
	  case "Asturias": auxFreqHunt= freqHuntAsturias; break;
	  case "Cantabria": auxFreqHunt= freqHuntCantabria; break;	  
	  case "CastillaLeon": auxFreqHunt= freqHuntCastillaLeon; break;
	  case "Catalan": auxFreqHunt= freqHuntCatalan; break;
	  default: auxFreqHunt= freqHuntAsturias; break;
	 }		
	
     for (var i=0;i<16;i++)
	 {
      cadNameObj= "textrx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = auxFreqHunt[i]; //set rx freq
	 
      cadNameObj= "texttx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = auxFreqHunt[i]; //set tx freq
	 }
	
	 ExecStart();
	}
    catch (error)
    {
     console.error(error);
    }	   
   }
   
   
   //Save file data
   function ExecSaveDat()
   {
    try
    {	
	 ExecStart(); //force reload
	
     const content = cadOut;
     const blob = new Blob([content], { type: 'text/plain' });
     const url = URL.createObjectURL(blob);
     const a = document.createElement('a');
	
	 if (cadOut.length<974)
	 {	
      alert('Error!!! The file to be generated is less than 974 bytes. It will not be saved.');
	 }
	 else
	 {
      a.href = url;
      a.download = 'custom.dat';  // Set the default filename
      document.body.appendChild(a);
      a.click();  // Trigger the download
      document.body.removeChild(a);
      URL.revokeObjectURL(url);  // Clean up
	 }
	}
    catch (error)
    {
     console.error(error);
    }	 
   }
   
   //Load combobox, textarea
   function LoadFromData(cadData)
   {
    var pos=0x20;	
	var cadPowerWN="";
	
	try
	{
	 if (cadData.length<974)
	 {
	  alert('Error!!! The file to be read is less than 974 bytes. It will not be read.');
	  return;
	 }	 
	
     cadOut= "";
	  
	 ExecClear();
	 
	 cadOut= cadData;
	 document.getElementById("txtareaOut").innerHTML= cadOut;
	
	 for (var i=0;i<16;i++)
	 {
	  //RX freq
	  cadByte[3]= cadData.substr(pos,2); pos+=3;
	  cadByte[2]= cadData.substr(pos,2); pos+=3;
	  cadByte[1]= cadData.substr(pos,2); pos+=3;
	  cadByte[0]= cadData.substr(pos,2); pos+=3;
	  cadHex= cadByte[0]+cadByte[1]+cadByte[2]+cadByte[3];
      cadNameObj= "textrx"+(i+1).toString();	
	  document.getElementById(cadNameObj).value = parseInt(cadHex,16); //set rx freq	 
	  //console.log(cadHex);
	 
	  //TX freq
	  cadByte[3]= cadData.substr(pos,2); pos+=3;
	  cadByte[2]= cadData.substr(pos,2); pos+=3;
	  cadByte[1]= cadData.substr(pos,2); pos+=3;
	  cadByte[0]= cadData.substr(pos,2); pos+=3;
	  cadHex= cadByte[0]+cadByte[1]+cadByte[2]+cadByte[3];
      cadNameObj= "texttx"+(i+1).toString();
	  document.getElementById(cadNameObj).value = parseInt(cadHex,16); //set tx freq
	  //console.log(cadHex);	 
	 
	  pos+= 13;
	  cadPowerWN= cadData.substr(pos,1);
	  //console.log(cadPowerWN);
	  pos+= 16;
	 
	  if (cadPowerWN=='7')
	  {//LOW NARROW
	   cadNameObj= "cmbtx"+(i+1).toString();	
	   document.getElementById(cadNameObj).value = "opcion1";
	   cadNameObj= "cmbwn"+(i+1).toString();
	   document.getElementById(cadNameObj).value = "opcion1";
	  }
	  else
	  {
       if (cadPowerWN=='F')
	   {//HIGH NARROW
	    cadNameObj= "cmbtx"+(i+1).toString();	
	    document.getElementById(cadNameObj).value = "opcion2";
	    cadNameObj= "cmbwn"+(i+1).toString();
	    document.getElementById(cadNameObj).value = "opcion1";	  
	   }
	   else
	   {
        if (cadPowerWN=='B')
	    {//HIGH WIDE
	     cadNameObj= "cmbtx"+(i+1).toString();	
	     document.getElementById(cadNameObj).value = "opcion2";
	     cadNameObj= "cmbwn"+(i+1).toString();
	     document.getElementById(cadNameObj).value = "opcion2";
	    }
	    else
	    {//LOW WIDE
	     if (cadPowerWN=='3')
	  	 {
	      cadNameObj= "cmbtx"+(i+1).toString();	
	      document.getElementById(cadNameObj).value = "opcion1";
	      cadNameObj= "cmbwn"+(i+1).toString();
	      document.getElementById(cadNameObj).value = "opcion2";	   
		 }
 	    }
	   }
	  }
	 	 
	  //pos+=29;
	 }
	}
	catch (error)
    {
     console.error(error);
    }
   }

   
   function uploadLocalFile(nameFile)
   {
    var input, file, fr;
	
    try    
	{
     file = nameFile || "";
 	    
     if (typeof window.FileReader !== 'function') 
     {
      console.log("The file API isn't supported on this browser.");
      return;
     };
	    
     input = document.getElementById('fileinput');
		
     if (file == "") 
     {
      if (!input) 
      {
       console.log("Couldn't find the fileinput element.");
       return;
      }
      else if (!input.files) {
				console.log("This browser doesn't seem to support the 'files' property of file inputs.");
				return;
			}
			else if (!input.files[0]) {
				console.log("Please select a file before clicking 'Load'");
				return;
			}
			else {
				file = input.files[0];
			};
			  					
			fr = new FileReader();
			fr.onload = receivedLocalBinary;
			fr.readAsBinaryString(file);
			
		} else {
		};

		

        function receivedLocalBinary()
		{            
	  	 //alert(fr.result);
		 LoadFromData(fr.result);
        }
	 }
	 catch (error)
     {
      console.error(error);
     }
    }   
   
   
   function ExecLoadDat()
   {
    try
    {	
     uploadLocalFile();
    }
	catch (error)
    {
     console.error(error);
    }
   }
   
   //Combobox LPD select
   function cmbLPDClick(opcion)
   {
    try
    {	
     //alert(opcion);
	 ExecLPD(opcion);
    }
	catch (error)
    {
     console.error(error);
    }     
   }
   
   //Combobox CB select
   function cmbCBClick(opcion)
   {
    try
    {	
     //alert(opcion);     
	 var paramBand="D";
	 if (document.getElementById("radioOption1").checked === true){ paramBand="A"; }
	 else
	 {
	  if (document.getElementById("radioOption2").checked === true){ paramBand="B"; }
	  else
	  {
	   if (document.getElementById("radioOption3").checked === true){ paramBand="C"; }
	   else
	   {
	    if (document.getElementById("radioOption4").checked === true){ paramBand="D"; }
		else
		{
	     if (document.getElementById("radioOption5").checked === true){ paramBand="E"; }
		 else
		 {
	      if (document.getElementById("radioOption6").checked === true){ paramBand="F"; }
		 }
		}
	   }
	  }
	 }
	 
	 //alert(paramBand);
	 
	 ExecCB(opcion,paramBand);
    }
	catch (error)
    {
     console.error(error);
    }   
   }

   //Combobox PRS select
   function cmbPRSClick(opcion)
   {
    try
    {     
	 ExecPRS(opcion);
    }
	catch (error)
    {
     console.error(error);
    }
   }
   
   //Combobox FRS22 select
   function cmbFRS22Click(opcion)
   {
    try
    {     
	 ExecFRS22(opcion);
    }
	catch (error)
    {
     console.error(error);
    }
   }
      
   
   
   //Init
   function onLoadFunctions()
   {
    try
    {
     ExecClear();
	 document.getElementById("radioOption4").checked= true; //force cb band D
	}
    catch (error)
    {
     console.error(error);
    }
   }
   
   
   window.onload = onLoadFunctions;
  </script>

 </body>
</html>